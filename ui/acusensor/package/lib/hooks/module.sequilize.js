"use strict";module.exports.hook="sql",module.exports.packageNames=["sequelize"],module.exports.load=({onBeforeRequire:e,proxyMethod:o,report:s,require:t})=>{e("sequelize",(()=>{const e=t("sequelize");o(e.prototype,"runHooks",(({args:e,stack:o})=>{if("afterQuery"!==e[0])return!1;if("object"!=typeof e[2])return!1;if("string"!=typeof e[2].sql)return!1;if(!e[2].sequelize||!e[2].sequelize.options||!e[2].sequelize.options.dialect)return!1;let t=e[2].sequelize.options.dialect;"postgres"===t?t="pg":"mariadb"===t&&(t="mysql");const r=e[2].sql;s({engine:t,sql:r||""},o)}))}))};