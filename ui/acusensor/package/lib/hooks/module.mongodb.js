"use strict";module.exports.hook="nosql",module.exports.packageNames=["mongodb"],module.exports.load=({onBeforeRequire:e,require:o,proxyMethod:n,report:t})=>{e("mongodb",(()=>{const e=o("mongodb");n(e.MongoClient.prototype,"db",(({args:e,returnPassthrough:o})=>{o((e=>(((e,o)=>{n(e,"collection",(({returnPassthrough:e})=>{e((e=>(o(e),e)))}))})(e,(o=>{["count","countDocuments","deleteOne","deleteMany","distinct","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","remove","replaceOne","update","updateMany","updateOne"].forEach((d=>{n(o,d,(({args:n,stack:a})=>{t({engine:"mongodb",database:e.databaseName,collection:o.collectionName,method:d,query:n[0]},a)}))}))})),e)))}))}))};